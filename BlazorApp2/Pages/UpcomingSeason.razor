@page "/seasonanime/"
@page "/seasonanime/{Year:int}/{Season}"
@inherits UpcomingSeasonBase


<section class="upcomingSeason">
    @if (AnimeList == null)
    {
        <div class="spinner"></div>
    }
    else
    {
        <div>
            <h3 class="pageTitle">Season Animes</h3>
        </div>
        <div class="dropdown">
                <EditForm Model="Season">
                    <InputSelect class="dropdownBtn dropElems" Value="Season"
                                 ValueChanged="@((Seasons season) => SetSeason(season))"
                                 ValueExpression="@(()=> Season)">
                        @foreach (var value in Enum.GetValues(typeof(Seasons)))
                        {
                            <option class="dropdown-item" value="@value">@value.ToString()</option>
                        }
                    </InputSelect>
                </EditForm>
                <EditForm Model="Year">
                    <InputSelect class="dropdownBtn dropElems" Value="Year"
                                 ValueChanged="@((int year) => SetYear(year))"
                                 ValueExpression="@(()=> Year)">
                        @foreach (var value in Years)
                        {
                            <option class="dropdown-item" value="@value">@value.ToString()</option>
                        }
                    </InputSelect>
                </EditForm>
        </div>
        <div class="row">
            @foreach (var anime in AnimeList)
            {
                <div class="col">
                    <div class="card">
                        <img src="@anime.image_url">
                        <div class="descriptions">
                            <h3>@anime.title</h3>
                            <p>
                                @anime.synopsis
                            </p>
                        </div>
                    </div>
                </div>
            }
        </div>

    }

</section>